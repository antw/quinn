<!doctype html>
<html>
  <head>

    <title>Balancer</title>
    <link rel="stylesheet" type="text/css" href="../../quinn.css" />
    <link rel="stylesheet" type="text/css" href="../../vendor/examples.css" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  </head>

  <body>

    <div id="content">
    <h1 id="quinn">Balancer</h1>

    <div class="example" id="example_1">
      <div class="widget">
        <div class="slider"></div>
      </div>
      <div class="value">0</div>
    </div>

    <div class="example" id="example_2">
      <div class="widget">
        <div class="slider"></div>
      </div>
      <div class="value">0</div>
    </div>

    <div class="example" id="example_3">
      <div class="widget">
        <div class="slider"></div>
      </div>
      <div class="value">0</div>
    </div>

    <pre><code>change events triggered: <span id="change-events">0</span>
drag events triggered:   <span id="drag-events">0</span>
abort events triggered:  <span id="abort-events">0</span></code></pre>

    <!-- end README -->
    </div>

    <script type="text/javascript" src="../../vendor/jquery-1.7.1.js"></script>
    <script type="text/javascript" src="../../vendor/jquery.easing.1.3.js"></script>
    <script type="text/javascript" src="../../vendor/underscore-1.3.1.js"></script>
    <script type="text/javascript" src="../../jquery.quinn.js"></script>
    <script type="text/javascript" src="../../plugins/balancer/jquery.quinn.balancer.js"></script>

    <script lang="text/javascript">
      var first, second, third, balancer,
          events = { drag: 0, change: 0, abort: 0 };

      function updateValue(id, type) {
        return function (value) {
          $('#' + id + ' .value').text(value);
          $('#' + type + '-events').text(++events[type]);
        }
      }

      first = new $.Quinn($('#example_1 .slider'), {
        value: 25,

        setup:  updateValue('example_1', 'setup'),
        drag:   updateValue('example_1', 'drag'),
        change: updateValue('example_1', 'change'),
        abort:  updateValue('ignore',    'abort')
      });

      second = new $.Quinn($('#example_2 .slider'), {
        value: 65,

        setup:  updateValue('example_2', 'setup'),
        drag:   updateValue('example_2', 'drag'),
        change: updateValue('example_2', 'change'),
        abort:  updateValue('ignore',    'abort')
      });

      third = new $.Quinn($('#example_3 .slider'), {
        value: 10,

        setup:  updateValue('example_3', 'setup'),
        drag:   updateValue('example_3', 'drag'),
        change: updateValue('example_3', 'change'),
        abort:  updateValue('ignore',    'abort')
      });

      balancer = new $.Quinn.Balancer();
      balancer.add(first).add(second).add(third);

      window.balancer = balancer;
    </script>

  </body>
</html>
